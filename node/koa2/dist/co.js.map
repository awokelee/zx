{"version":3,"sources":["../src/co.js"],"names":["co","require","fetch","run","generator","iterator","it","next","promise","value","then","it2","data","promise2","data2","res","json","movie","summary","console","log"],"mappings":";;AAAA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,QAAQD,QAAQ,YAAR,CAAd;;AAEA;;;;;;;;AASA;;AAEA,SAASE,GAAT,CAAcC,SAAd,EAAyB;AACvB,MAAMC,WAAWD,WAAjB;AACA,MAAME,KAAKD,SAASE,IAAT,EAAX;AACA,MAAMC,UAAUF,GAAGG,KAAnB;;AAEAD,UAAQE,IAAR,CAAc,gBAAQ;AACpB,QAAMC,MAAMN,SAASE,IAAT,CAAcK,IAAd,CAAZ;AACA,QAAMC,WAAWF,IAAIF,KAArB;;AAEAI,aAASH,IAAT,CAAe,iBAAS;AACtBL,eAASE,IAAT,CAAcO,KAAd;AACD,KAFD;AAGD,GAPD;AAQD;;AAEDX,0CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACgBD,MAAM,yCAAN,CADhB;;AAAA;AACIa,aADJ;AAAA;AAAA,iBAEkBA,IAAIC,IAAJ,EAFlB;;AAAA;AAEIC,eAFJ;AAGIC,iBAHJ,GAGcD,MAAMC,OAHpB;;;AAKFC,kBAAQC,GAAR,CAAYF,OAAZ;;AALE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAJ","file":"co.js","sourcesContent":["const co = require('co')\nconst fetch = require('node-fetch')\n\n/* co(function *(){\n  const res = yield fetch('https://api.douban.com/v2/movie/1291843')\n  const movie = yield res.json()\n  const summary = movie.summary\n\n  console.log(summary)\n}) */\n\n\n// 模拟实现如\n\nfunction run (generator) {\n  const iterator = generator()\n  const it = iterator.next()\n  const promise = it.value\n\n  promise.then( data => {\n    const it2 = iterator.next(data)\n    const promise2 = it2.value\n    \n    promise2.then( data2 => {\n      iterator.next(data2)\n    })\n  })\n}\n\nrun(function *(){\n  const res = yield fetch('https://api.douban.com/v2/movie/1291843')\n  const movie = yield res.json()\n  const summary = movie.summary\n\n  console.log(summary)\n})"]}