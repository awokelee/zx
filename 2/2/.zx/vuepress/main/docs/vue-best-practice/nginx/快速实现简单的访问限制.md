# 快速实现简单的访问限制(IP)

经常会遇到希望网站让某些特定用户的群体（比如只让公司内网）访问，或者控制某个 `uri` 不让人访问。Nginx 配置如下：

```bash
location / {
  deny  192.168.1.100;
  allow 192.168.1.10/200;
  allow 10.110.50.16;
  deny  all;
}
```

其实 `deny` 和 `allow` 是 `ngx_http_access_module` 模块（已内置）中的语法。

采用的是 **从上到下匹配方式，匹配到就跳出不再继续匹配**。

上述配置的意思就是，首先 `禁止 192.168.1.100` 访问，然后 `允许 192.168.1.10-200` `ip` 段内的访问（排除 `192.168.1.100` ），

同时允许 `10.110.50.16` 这个单独 `ip` 的访问，剩下未匹配到的全部禁止访问。

实际生产中，经常和 `ngx_http_geo_module` 模块（可以更好地管理 `ip 地址表`，已内置）配合使用。

[Nginx与前端开发](https://juejin.im/post/5bacbd395188255c8d0fd4b2), by ccfe.